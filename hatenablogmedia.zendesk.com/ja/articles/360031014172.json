{"article":{"id":360031014172,"url":"https://hatenablogmedia.zendesk.com/api/v2/help_center/ja/articles/360031014172.json","html_url":"https://hatenablogmedia.zendesk.com/hc/ja/articles/360031014172","author_id":378867417791,"comments_disabled":false,"draft":false,"promoted":false,"position":13,"vote_sum":0,"vote_count":0,"section_id":360006434292,"created_at":"2019-07-29T09:03:47Z","updated_at":"2021-07-14T08:39:01Z","name":"記事一覧モジュールの「高度なカスタマイズ」","title":"記事一覧モジュールの「高度なカスタマイズ」","source_locale":"ja","locale":"ja","outdated":false,"outdated_locales":[],"edited_at":"2021-07-14T08:39:01Z","user_segment_id":null,"permission_group_id":972311,"content_tag_ids":[],"label_names":[],"body":"\u003cp\u003eサイドバーに追加できる「最新記事」「関連記事」「注目記事」の各記事一覧モジュールでは、変数を用いた「高度なカスタマイズ」により、タイトルや投稿日時などの表示順を変更したり、任意のHTMLを記述したりできます。\u003c/p\u003e\n\u003cp class=\"alert alert-warning\"\u003e高度なカスタマイズは、HTMLやCSSの知識を持っており、デフォルトの記事一覧のスタイルがわかる方を対象としています。はてなでは、デザインやレイアウトのカスタマイズに関してサポート対象としておりませんのでご了承ください。\u003c/p\u003e\n\u003ch2\u003e記事一覧モジュールで「高度なカスタマイズ」を利用する方法\u003c/h2\u003e\n\u003cp\u003e管理画面 \u0026gt;[\u003cstrong\u003eデザイン\u003c/strong\u003e] \u0026gt; [\u003cstrong\u003eサイドバー\u003c/strong\u003e]の「モジュールを追加」から「最新記事」「関連記事」「注目記事」の各モジュールの設定ウィンドウを開き、「高度なカスタマイズを使う」のチェックボックスをチェックします。\u003c/p\u003e\n\u003cp\u003e「高度なカスタマイズを使う」にチェックを入れると、デフォルトで 設定できる以下の項目が無効になります。代わりに設定欄にHTMLテンプレートを記述できるようになります。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eサムネイル画像を表示する\u003c/li\u003e\n\u003cli\u003e投稿日時を表示する\u003c/li\u003e\n\u003cli\u003eブックマーク数を表示する\u003c/li\u003e\n\u003cli\u003eカテゴリーを表示する\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e「高度なカスタマイズ」で利用できる変数\u003c/h2\u003e\n\u003cp\u003e「高度なカスタマイズ」では、次の変数を利用できます。モジュールの設定ウィンドウで「利用可能な変数」をクリックするとその場で確認できます。\u003c/p\u003e\n\u003ctable\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003cth\u003e変数\u003c/th\u003e\n\u003cth\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{Title}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事タイトルに置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{Permalink}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事のパーマネントリンクのURLに置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{Description}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事の概要に置き換わります。(未入力時は本文を表示)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{Date}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事の投稿日時に置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{BookmarkCount}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事のはてなブックマーク数を表す画像\u003csmall\u003e（*1）\u003c/small\u003eに置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{CategoryLinks}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事に設定されたすべてのカテゴリー\u003csmall\u003e（*2）\u003c/small\u003eに置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{EntryBody}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事の本文冒頭の50文字に置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e{ImageURL}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e記事のアイキャッチ\u003csmall\u003e（*3）\u003c/small\u003eを200px四方にトリミング・リサイズした画像のURLに置き換わります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp class=\"alert alert-info\"\u003eデフォルトのモジュール設定では、記事タイトルおよび記事本文の表示文字数を設定できますが、「高度なカスタマイズ」を用いる場合にはタイトルは全文、本文は50文字で固定となります。\u003c/p\u003e\n\u003cp class=\"alert alert-info\"\u003eそれぞれの変数は、基本的に表している内容の文字列に置き換わり、タイトルがない場合は、デフォルトと同様に処理します。\u003c/p\u003e\n\u003ch4\u003e\n\u003csmall id=\"bookmarkcound\"\u003e*1\u003c/small\u003e はてなブックマーク数（\u003ccode\u003e{BookmarkCount}\u003c/code\u003e）のヒント\u003c/h4\u003e\n\u003cp\u003e「はてなブックマーク」が提供する\u003ca href=\"http://b.hatena.ne.jp/help/entry/count#count\" target=\"_blank\" rel=\"noopener\"\u003eAPI\u003c/a\u003eを用いてブックマーク数を画像で取得し、記事のエントリーページへのリンクとして次のように展開します。\u003c/p\u003e\n\u003cpre class=\"code\" data-lang=\"\" data-unlink=\"\"\u003e\u0026lt;a href=\"http://b.hatena.ne.jp/{エントリURL}\"\u0026gt;\n    \u0026lt;img src=\"https://b.hatena.ne.jp/entry/image/{エントリURL}\"\u0026gt;\u0026lt;/a\u0026gt;\u003c/pre\u003e\n\u003cdiv class=\"section\"\u003e\n\u003ch4\u003e\n\u003csmall id=\"categories\"\u003e*2 \u003c/small\u003e記事に設定されたカテゴリー（\u003ccode\u003e{CategoryLinks}\u003c/code\u003e）のヒント\u003c/h4\u003e\n\u003cp\u003e記事に設定されたカテゴリー名を、次のようにカテゴリー別記事一覧ページへのリンクとして展開します。複数のカテゴリーが設定されている場合には、設定された順にすべて並べて表示します。\u003c/p\u003e\n\u003cpre class=\"code\" data-lang=\"\" data-unlink=\"\"\u003e\u0026lt;a class=\"urllist-category-link {モジュールの種類}-category-link category-{カテゴリー名}\"\n    href=\"http://{ブログURL}/archive/category/{カテゴリー名}\"\u0026gt;{カテゴリー名}\u0026lt;/a\u0026gt;\u003c/pre\u003e\n\u003c/div\u003e\n\u003ch4\u003e\n\u003csmall id=\"imageurl\"\u003e*3\u003c/small\u003e 記事のアイキャッチ（\u003ccode\u003e{ImageURL}\u003c/code\u003e）のヒント\u003c/h4\u003e\n\u003cp\u003e記事に「アイキャッチ画像」が設定されていない場合は、ブログごとに設定された「アイキャッチ画像」を表示し、それもなければはてなブログのデフォルトの「アイキャッチ画像」を表示します。サイズを調整したい場合には、CSSでスタイルを設定してください。\u003c/p\u003e\n\u003cp\u003e詳細については「\u003ca href=\"https://hatenablogmedia.zendesk.com/hc/ja/articles/360031356491\" target=\"_self\"\u003eアイキャッチ画像を設定する\u003c/a\u003e」をご確認ください。\u003c/p\u003e\n\u003ch2\u003eHTMLテンプレートの記述サンプル\u003c/h2\u003e\n\u003cp\u003eデフォルトの記事一覧と同じ順序で、6つの項目すべてを表示するHTMLテンプレートのサンプルは、以下のようになります。\u003c/p\u003e\n\u003cpre class=\"code\" data-lang=\"\" data-unlink=\"\"\u003e\u0026lt;a href=\"{Permalink}\" class=\"urllist-image-link\"\u0026gt;\n  \u0026lt;img src=\"{ImageURL}\" alt=\"{Title}\" class=\"urllist-image\"\u0026gt;\n\u0026lt;/a\u0026gt;\n\u0026lt;div class=\"urllist-date-link\"\u0026gt;\n  \u0026lt;a href=\"{Permalink}\"\u0026gt;\u0026lt;time\u0026gt;{Date}\u0026lt;/time\u0026gt;\u0026lt;/a\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;a href=\"{Permalink}\" class=\"urllist-title-link\"\u0026gt;{Title}\u0026lt;/a\u0026gt;{BookmarkCount}\n\u0026lt;div class=\"urllist-categories-link\"\u0026gt;{CategoryLinks}\u0026lt;/div\u0026gt;\n\u0026lt;div class=\"urllist-entry-body\"\u0026gt;{EntryBody}\u0026lt;/div\u0026gt;\u003c/pre\u003e\n\u003cp\u003eこれを「最新記事」モジュールの設定ウィンドウで「高度なカスタマイズを使う」の下のテキストエリアに記述して保存すると、ブログのサイドバーの記事一覧は次のように表示されます。\u003c/p\u003e\n\u003cdiv\u003e\n\u003cdiv\u003e\u003cimg title=\"高度なカスタマイズを使った場合\" src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/h/hatenablog/20170327/20170327121941.png\" alt=\"高度なカスタマイズを使った場合のサンプル\"\u003e\u003c/div\u003e\n\u003cp\u003eサンプルコードを入力した場合のイメージ\u003cbr\u003e（見た目はテーマやデザインCSSにより異なります）\u003c/p\u003e\n\u003c/div\u003e"}}