{"article":{"id":360030921252,"url":"https://hatenablogmedia.zendesk.com/api/v2/help_center/ja/articles/360030921252.json","html_url":"https://hatenablogmedia.zendesk.com/hc/ja/articles/360030921252","author_id":378867417791,"comments_disabled":false,"draft":false,"promoted":false,"position":2,"vote_sum":0,"vote_count":0,"section_id":360006001331,"created_at":"2019-07-25T01:33:46Z","updated_at":"2022-07-04T01:43:18Z","name":"AMPを使用する","title":"AMPを使用する","source_locale":"ja","locale":"ja","outdated":false,"outdated_locales":[],"edited_at":"2022-07-04T01:43:18Z","user_segment_id":null,"permission_group_id":972311,"content_tag_ids":[],"label_names":[],"body":"\u003cp\u003e「はてなブログMedia」では、記事をAMPで配信することができます。\u003c/p\u003e\n\u003ch2\u003eAMPとは\u003c/h2\u003e\n\u003cp\u003eAMPは、モバイル環境でWebコンテンツの表示を高速化する仕組みです。GoogleなどWeb業界各社の協力により、世界中から多くのコンテンツ企業やテクノロジー企業が参加しています。\u003c/p\u003e\n\u003cp\u003eAMPで配信されたコンテンツは、AMPの表示に対応したモバイルのサイト・アプリで利用されます。AMPに対応したGoogle検索などのサービスが、AMPで配信されたページのデータをクロールすると、モバイル環境のアプリ内ブラウザなどでそのデータを利用して、通常のWebページより高速に表示します。\u003c/p\u003e\n\u003cp\u003e詳細は以下をご確認ください。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"https://amp.dev/\"\u003e\u003cimg class=\"http-favicon\" src=\"https://cdn-ak.favicon.st-hatena.com/?url=https%3A%2F%2Famp.dev%2F\" alt=\"\"\u003e\u003c/a\u003e\u003ca href=\"https://amp.dev/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eAMP - a web component framework to easily create user-first web experiencest\u003c/a\u003e \u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca style=\"background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\" href=\"http://googledevjp.blogspot.jp/2016/01/accelerated-mobile-pages.html\"\u003e\u003cimg class=\"http-favicon\" src=\"https://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fgoogledevjp.blogspot.jp%2F2016%2F01%2Faccelerated-mobile-pages.html\" alt=\"\"\u003e\u003c/a\u003e\u003ca style=\"background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\" href=\"http://googledevjp.blogspot.jp/2016/01/accelerated-mobile-pages.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eGoogle Developers Japan: Accelerated Mobile Pages プロジェクトについて -- 導入ガイド日本語版を本日公開しました\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca style=\"background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\" href=\"http://googlejapan.blogspot.jp/2016/02/blog-post_25.html\"\u003e\u003cimg class=\"http-favicon\" src=\"https://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fgooglejapan.blogspot.jp%2F2016%2F02%2Fblog-post_25.html\" alt=\"\"\u003e\u003c/a\u003e\u003ca style=\"background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\" href=\"http://googlejapan.blogspot.jp/2016/02/blog-post_25.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eGoogle Japan Blog: モバイルウェブをもっと速く\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"alert alert-info\"\u003eAMPコンテンツをクロールするタイミングやキャッシュの利用については、AMPを利用する各サービスによります。オプションを有効にしてもすぐにクロールされるとは限りませんし、オプションを無効にしたのにAMPで表示され続けることもあります。\u003c/p\u003e\n\u003cp class=\"alert alert-info\"\u003eAMPに対応していないサービスや、モバイルのブラウザでブログを直接閲覧する場合には、ブログの設定に応じた通常のモバイル表示になります。\u003c/p\u003e\n\u003ch2\u003e「はてなブログMedia」をAMPで配信するメリット・デメリット\u003c/h2\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eメリット\u003c/th\u003e\n\u003cth\u003eデメリット\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003cul\u003e\n\u003cli\u003eAMPを利用することにより、モバイル環境でブログを速やかに表示できます\u003c/li\u003e\n\u003cli\u003eブログを快適に閲覧されることが可能になるため、多くの人に読まれやすくなることが期待できます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cp\u003eデザイン上のカスタマイズなど、ブログの表現に制限があります\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2\u003eAMPを配信する方法\u003c/h2\u003e\n\u003cp\u003e管理画面 \u0026gt; [\u003cstrong\u003e設定\u003c/strong\u003e] \u0026gt; [\u003cstrong\u003e詳細設定\u003c/strong\u003e]の「\u003cstrong\u003eAMPを配信する(β版)\u003c/strong\u003e」にチェックをいれると、AMPが配信されます。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://hatenablogmedia.zendesk.com/hc/article_attachments/4408130480793/__________2021-10-20_18.29.44.png\" alt=\"__________2021-10-20_18.29.44.png\"\u003e\u003c/p\u003e\n\u003cp class=\"alert alert-info\"\u003eAMPは開発が進行中のプロジェクトのため、本機能もβ版として提供しています。AMPの仕組み等をご理解のうえ、ご利用ください。\u003c/p\u003e\n\u003ch3\u003eAMP用の解析タグやCSSを設定する\u003c/h3\u003e\n\u003cp\u003e管理画面 \u0026gt; [\u003cstrong\u003eデザイン\u003c/strong\u003e] \u0026gt; [\u003cstrong\u003eカスタマイズ\u003c/strong\u003e]からAMPに関する設定ができます。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://hatenablogmedia.zendesk.com/hc/article_attachments/4408130732057/__________2021-10-20_18.37.26.png\" alt=\"__________2021-10-20_18.37.26.png\"\u003e\u003c/p\u003e\n\u003cp\u003e設定できる各項目と説明は以下です。\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e項目\u003c/th\u003e\n\u003cth\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eAMP用headタグ内\u003c/td\u003e\n\u003ctd\u003eペイウォールとサブスクリプションタグを記述できます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAMP用bodyタグ内\u003c/td\u003e\n\u003ctd\u003e解析タグを記述できます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAMP用CSS*1\u003c/td\u003e\n\u003ctd\u003eCSSを直接記述し、AMPで記事が配信される際のデザインをカスタマイズできます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e*1 AMPのCSSにはいくつかの制約があります。AMPプロジェクトのWebサイトなどを参考にしてください。なお、デザインやレイアウトのカスタマイズに関しては、「はてなブログMedia」のサポート対象外となります。\u003c/p\u003e\n\u003ch3\u003eAMPの表示をプレビューする\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://hatenablogmedia.zendesk.com/hc/ja/articles/360030921032\" target=\"_self\"\u003e記事編集画面（PC版）の「プレビュー」タブ\u003c/a\u003eで、「スマートフォン (AMP)」タブに切り替えて、AMPでの表示をプレビューすることができます。\u003c/p\u003e\n\u003ch2\u003eAMPを配信停止する方法\u003c/h2\u003e\n\u003cp\u003e管理画面 \u0026gt; [\u003cstrong\u003e設定\u003c/strong\u003e] \u0026gt; [\u003cstrong\u003e詳細設定\u003c/strong\u003e]の「\u003cstrong\u003eAMPを配信する(β版)\u003c/strong\u003e」に入っているチェックをはずすと、AMPの配信が停止されます。\u003c/p\u003e\n\u003cp\u003eこれによりAMPHTMLは302のステータスコードを返しますので、google 検索においては キャッシュされたAMPも消えます。\u003c/p\u003e\n\u003ch2\u003e\u003cstrong\u003eAMPを利用する際の注意点\u003c/strong\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eデザイン設定でカスタマイズできるサイドバーモジュールや、HTMLの自由記述（記事上下、ヘッタ、フッタなど）は配信されません\u003c/li\u003e\n\u003cli\u003e記事中の\u003ccode\u003estyle\u003c/code\u003e属性など、スタイル関連のHTMLは反映されません\u003c/li\u003e\n\u003cli\u003e記事中のJavaScriptは反映されません\u003csmall\u003e（このため広告などが表示されないことがあります）\u003c/small\u003e\n\u003c/li\u003e\n\u003cli\u003e（HTTPSでなく）HTTPで配信されている画像は表示されません\u003csmall\u003e（はてなフォトライフやInstagramなどはHTTPSに対応しています）\u003c/small\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"section\"\u003e\n\u003ch2\u003e\u003cstrong\u003e「はてなブログMedia」のその他の設定項目との関係\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eAMPの利用において、「はてなブログMedia」のその他の設定項目とも次のような関係があります。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAMPへのアクセスは、「\u003ca href=\"https://hatenablogmedia.zendesk.com/hc/ja/articles/360030891032\" target=\"_self\"\u003e詳細設定\u003c/a\u003e」画面の「Google Analytics埋め込み」で設定されたGoogleアナリティクスのプロパティに記録されます\u003c/li\u003e\n\u003cli\u003e「詳細設定」画面の「はてなによる広告を表示しない」をチェックしている場合、AMPページでもはてなによる広告は表示しません\u003c/li\u003e\n\u003cli\u003eスマートフォンアプリではAMP配信を設定できませんが、スマートフォン向けブラウザ版ダッシュボードでは設定できます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"section\"\u003e \u003c/div\u003e\n\u003cdiv class=\"section\"\u003e \u003c/div\u003e\n\u003cdiv class=\"section\"\u003e \u003c/div\u003e"}}