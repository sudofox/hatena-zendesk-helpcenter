{"article":{"id":360040109431,"url":"https://mackerelio.zendesk.com/api/v2/help_center/en-us/articles/360040109431.json","html_url":"https://support.mackerel.io/hc/en-us/articles/360040109431-Handling-of-host-conversion-when-plan-limits-are-exceeded","author_id":390085917472,"comments_disabled":true,"draft":false,"promoted":false,"position":3,"vote_sum":1,"vote_count":1,"section_id":360008016131,"created_at":"2020-02-24T09:18:38Z","updated_at":"2021-12-10T22:09:49Z","name":"Handling of host conversion when plan limits are exceeded","title":"Handling of host conversion when plan limits are exceeded","source_locale":"ja","locale":"en-us","outdated":false,"outdated_locales":[],"edited_at":"2021-05-24T06:07:02Z","user_segment_id":null,"permission_group_id":1305651,"content_tag_ids":[],"label_names":["ホストメトリックス","ホストメトリクス","カスタムメトリックス","カスタムメトリクス"],"body":"\u003cp\u003eIn addition to the previous section, here we will explain how host conversion will be done in response to plan overages of each type. All decimal points will be rounded up.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eHost metrics\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eoverage ÷ plan limit (with the Standard plan, 200 for Standard hosts, 30 for Micro hosts)\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAll hosts exceeding the limit will factor into the calculation\u003c/li\u003e\n\u003cli\u003eHost metrics will be calculated using the equation below\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eStandard metrics + custom metrics + check monitors\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThe number of metrics posted for a host are counted at a fixed interval of within one hour\u003c/li\u003e\n\u003cli\u003eEach metric will be calculated according to the type of host (standard host or micro host) it is linked to\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eService metrics\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eoverage ÷ plan limit (200 for Standard plans)\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eCalculated as Standard host\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eExternal monitors\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eoverage ÷ plan limit (20 for Standard plans)\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eCalculated as Standard host\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAnomaly detection for roles\n\u003cul\u003e\n\u003cli\u003eThe number of target hosts ÷ 5\n\u003cul\u003e\n\u003cli\u003eEvery 5 hosts subject to anomaly detection for roles counts as 1 standard host\u003c/li\u003e\n\u003cli\u003eIf the same host belongs to multiple roles subject to anomaly detection, they will be counted separately\u003c/li\u003e\n\u003cli\u003eCalculations are based on the number of hosts calculated by the monthly moving average\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eConverted to standard hosts\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThe number of monitoring items\n\u003cul\u003e\n\u003cli\u003eYou cannot create more items than the number prescribed by your plan's limit (items cannot be calculated as hosts).\u003c/li\u003e\n\u003cli\u003eIf you would like to create more monitoring items, you can apply to increase your plan's limit \u003ca href=\"https://support.mackerel.io/hc/ja/requests/new\" target=\"_blank\" rel=\"noopener\"\u003ehere\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCustom dashboards\n\u003cul\u003e\n\u003cli\u003eThe limit of a plan cannot be exceeded (Custom dashboards cannot be converted into hosts).\u003c/li\u003e\n\u003cli\u003eIf you want to create a monitor that would exceed the limit, please apply to mitigate the limit here.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003eExamples using the Standard plan\u003c/h4\u003e\n\u003cp\u003eUpper limits of the Standard plan include 200 for standard host metrics, 30 for micro host metrics, 200 for service metrics, and 20 for external monitoring items.\u003c/p\u003e\n\u003cp\u003eBelow are 2 example possible usage cases.\u003c/p\u003e\n\u003ch3\u003eUsage Pattern A\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ePattern A\u003c/th\u003e\n\u003cth\u003eConfiguration Count\u003c/th\u003e\n\u003cth\u003eOverage\u003c/th\u003e\n\u003cth\u003eAdditional Standard host count due to overage\u003c/th\u003e\n\u003cth\u003eAdditional Micro host count\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eStandard host A metrics\u003c/td\u003e\n\u003ctd\u003e180\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eStandard host B metrics\u003c/td\u003e\n\u003ctd\u003e180\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eMicro host C metrics\u003c/td\u003e\n\u003ctd\u003e20\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eService metrics\u003c/td\u003e\n\u003ctd\u003e90\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eExternal monitors\u003c/td\u003e\n\u003ctd\u003e19\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eIn this case, there are no excess items, so the number of standard hosts will be counted as 2 for A and B, and 1 micro host for C.\u003c/p\u003e\n\u003ch3\u003eUsage pattern B\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ePattern B\u003c/th\u003e\n\u003cth\u003eConfiguration Count\u003c/th\u003e\n\u003cth\u003eOverage\u003c/th\u003e\n\u003cth\u003eAdditional standard host count due to overage\u003c/th\u003e\n\u003cth\u003eAdditional micro host count\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eStandard host A metrics\u003c/td\u003e\n\u003ctd\u003e401\u003c/td\u003e\n\u003ctd\u003e201\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eStandard host B metrics\u003c/td\u003e\n\u003ctd\u003e180\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eMicro host C metrics\u003c/td\u003e\n\u003ctd\u003e50\u003c/td\u003e\n\u003ctd\u003e20\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eService metrics\u003c/td\u003e\n\u003ctd\u003e240\u003c/td\u003e\n\u003ctd\u003e40\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eExternal monitors\u003c/td\u003e\n\u003ctd\u003e30\u003c/td\u003e\n\u003ctd\u003e10\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eIn this case, in addition to the 2 standard hosts for A and B, there are 4 standard host overages for a total of 6. The total number of microhosts comes to 2 due to the one additional micro host overage of C.\u003c/p\u003e"}}