{"article":{"id":900005307206,"url":"https://mackerelio.zendesk.com/api/v2/help_center/en-us/articles/900005307206.json","html_url":"https://support.mackerel.io/hc/en-us/articles/900005307206-I-can-t-get-metrics-with-the-plugin-mackerel-plugin-snmp","author_id":390085917472,"comments_disabled":true,"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":360007912312,"created_at":"2021-03-23T01:56:10Z","updated_at":"2021-03-25T06:16:57Z","name":"I can’t get metrics with the plugin mackerel-plugin-snmp","title":"I can’t get metrics with the plugin mackerel-plugin-snmp","source_locale":"ja","locale":"en-us","outdated":false,"outdated_locales":[],"edited_at":"2021-03-25T06:16:57Z","user_segment_id":null,"permission_group_id":1305651,"content_tag_ids":[],"label_names":["SNMP","ネットワーク機器"],"body":"\u003cp\u003e\u003cspan style=\"font-weight: 400;\"\u003eMost malfunctions regarding the plugin \u003c/span\u003e\u003ca href=\"https://github.com/mackerelio/mackerel-agent-plugins/tree/master/mackerel-plugin-snmp\" target=\"_blank\" rel=\"noopener\"\u003emackerel-plugin-snmp\u003c/a\u003e\u003cspan style=\"font-weight: 400;\"\u003e are related to the following causes.\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cspan style=\"font-weight: 400;\"\u003eNot specifying the correct OID in the plugin options.\u003c/span\u003e\n\u003cul\u003e\n\u003cli style=\"font-weight: 400;\" aria-level=\"2\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eThe plugin retrieves the object value of the OID specified by the SNMP Get Request. An OID with a subordinate tree can not be specified.\u003c/span\u003e\u003c/li\u003e\n\u003cli style=\"font-weight: 400;\" aria-level=\"2\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eUse the snmpget command to check the plugin OID. Specify the target OID and check that the object value is returned.\u003c/span\u003e\u003c/li\u003e\n\u003cli style=\"font-weight: 400;\" aria-level=\"2\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eThe snmpwalk command returns a value even if you specify an OID with a subordinate tree. Be sure to use the snmpget command to confirm the OID to specify in the plugin.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cspan style=\"font-weight: 400;\"\u003eNot specifying enough metric options\u003c/span\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cspan style=\"font-weight: 400;\"\u003eMetrics such as the OID must be specified in a format separated by halfwidth colons like this example: \u003c/span\u003e\u003ccode class=\"c-mrkdwn__code\" data-stringify-type=\"code\"\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003eOID:NAME[:DIFF?][:STACK?]\u003c/span\u003e\u003c/code\u003e\u003cspan style=\"font-weight: 400;\"\u003e. The meaning of each part follows below.\u003c/span\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%;\" border=\"1\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cstrong\u003eItem\u003c/strong\u003e\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cstrong\u003eConfiguration Value\u003c/strong\u003e\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cstrong\u003eRequired\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003eOID\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eOID（Only MIBs with numerical reference values are supported\u003c/span\u003e\u003c/td\u003e\n\u003ctd class=\"wysiwyg-text-align-center\" style=\"width: 33.3333%;\"\u003eY\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003eNAME\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eThe metric label displayed on the graph\u003c/span\u003e\u003c/td\u003e\n\u003ctd class=\"wysiwyg-text-align-center\" style=\"width: 33.3333%;\"\u003eY\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003eDIFF\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eWhether to calculate with a counter value (0 or 1)\u003c/span\u003e\u003c/td\u003e\n\u003ctd class=\"wysiwyg-text-align-center\" style=\"width: 33.3333%;\"\u003eN\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003eSTACK\u003c/td\u003e\n\u003ctd style=\"width: 33.3333%;\"\u003e\u003cspan style=\"font-weight: 400;\"\u003eWhether to display metrics stacked (0 or 1)\u003c/span\u003e\u003c/td\u003e\n\u003ctd class=\"wysiwyg-text-align-center\" style=\"width: 33.3333%;\"\u003eN\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cul\u003e\n\u003cli style=\"list-style-type: none;\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cspan style=\"font-weight: 400;\"\u003ePlease make sure that \u003c/span\u003e\u003ccode class=\"c-mrkdwn__code\" data-stringify-type=\"code\"\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003eNAME\u003c/span\u003e\u003c/code\u003e \u003cspan style=\"font-weight: 400;\"\u003eis specified as this is often not the case.\u003c/span\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e"}}