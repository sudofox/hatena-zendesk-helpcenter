{"article":{"id":360040108631,"url":"https://mackerelio.zendesk.com/api/v2/help_center/en-us/articles/360040108631.json","html_url":"https://support.mackerel.io/hc/en-us/articles/360040108631-The-agent-won-t-startup-","author_id":390085917472,"comments_disabled":true,"draft":false,"promoted":false,"position":0,"vote_sum":1,"vote_count":1,"section_id":360008120511,"created_at":"2020-02-24T08:39:32Z","updated_at":"2021-12-21T05:10:49Z","name":"The agent won’t startup.","title":"The agent won’t startup.","source_locale":"ja","locale":"en-us","outdated":false,"outdated_locales":[],"edited_at":"2020-07-17T05:18:08Z","user_segment_id":null,"permission_group_id":1305651,"content_tag_ids":[],"label_names":["mackerel-agent","インストール","起動","エラー","できない"],"body":"\u003cp\u003eIf the installed agent fails to start, an error occurs during installation, or the installation cannot be performed, please check the following.\u003c/p\u003e\n\u003ch2\u003eInstallation environment\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ePlease check whether OS to be installed is officially supported.\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/docs/entry/overview#support-environments\"\u003eSupported Environments - Mackerel Docs\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eConnection status\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eMake sure that you can connect from the target server to the destinations listed in “\u003ca href=\"https://support.mackerel.io/hc/en-us/articles/360039633271\" target=\"_blank\" rel=\"noopener\"\u003eWhat is Mackerel’s IP address and port number?\u003c/a\u003e”.\u003c/li\u003e\n\u003cli\u003eIf connecting via a proxy server, make sure that the proxy server is configured according to “\u003ca href=\"https://support.mackerel.io/hc/en-us/articles/360039701312-Is-it-possible-to-control-which-port-the-mackerel-agent-uses-\" target=\"_blank\" rel=\"noopener\"\u003eIs it possible to control which port the mackerel-agent uses?\u003c/a\u003e”.\u003c/li\u003e\n\u003cli\u003eIf antivirus software is installed on the server where the agent is installed, please make sure that mackerel-agent signal is not blocked.\u003c/li\u003e\n\u003cli\u003eCheck whether or not\u003ccode\u003eapi.mackerelio.com\u003c/code\u003ename resolution is working.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eOther\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eCheck whether or not the package (yum / apt) is installed correctly.\u003c/li\u003e\n\u003cli\u003eConfirm that the API key specified for mackerel-agent is not ReadOnly.\u003c/li\u003e\n\u003cli\u003eCheck the contents of the log by mackerel-agent and check whether an error is output.\u003c/li\u003e\n\u003cli\u003ePlease check the command \u003ccode\u003emackerel-agent configtest\u003c/code\u003e to see if the configuration file \u003ccode\u003emackerel-agent.conf\u003c/code\u003e is written correctly.\u003c/li\u003e\n\u003cli\u003eIf you’ve copied \u003ccode\u003e/var/lib/mackerel-agent/id\u003c/code\u003e onto an OS image with Docker Image or AMI, this file needs to be deleted.\u003cbr\u003e\n\u003cul\u003e\n\u003cli\u003eWhen mackerel-agent starts up for the first time, the ID issued by the server will be saved to\u003ccode\u003e/var/lib/mackerel-agent/id\u003c/code\u003e. The host will be identified by this ID from then on.  \u003c/li\u003e\n\u003cli\u003eFor this reason, if \u003ccode\u003e/var/lib/mackerel-agent/id\u003c/code\u003e is copied, multiple hosts will be recognized by Mackerel as the same host, resulting in metric posting and monitoring not functioning properly.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003cp\u003eIf the problem has not been resolved after double checking all of the points above, please contact us via the \"Contact Us\" button (please attach any relevant information such as error logs if available). The \"Contact Us\" button is displayed in the header of this page or the header of the Mackerel Web Console.\u003c/p\u003e"}}