{"article":{"id":900005516026,"url":"https://mackerelio.zendesk.com/api/v2/help_center/ja/articles/900005516026.json","html_url":"https://support.mackerel.io/hc/ja/articles/900005516026","author_id":390085917472,"comments_disabled":true,"draft":false,"promoted":false,"position":1,"vote_sum":0,"vote_count":0,"section_id":360007820312,"created_at":"2021-04-06T09:05:25Z","updated_at":"2021-12-21T08:55:23Z","name":"ホストメトリックとサービスメトリックの違いについて","title":"ホストメトリックとサービスメトリックの違いについて","source_locale":"ja","locale":"ja","outdated":false,"outdated_locales":[],"edited_at":"2021-04-30T01:49:53Z","user_segment_id":null,"permission_group_id":1305651,"content_tag_ids":[],"label_names":[],"body":"\u003cp\u003eMackerelで監視できるメトリックには大きく2種類あります。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e監視対象となるホストに関する「ホストメトリック」\u003c/li\u003e\n\u003cli\u003e複数のホストとそれを纏めたロールから構成されたサービスに関する「サービスメトリック」\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eそれぞれの詳細については以下をご確認ください。\u003c/p\u003e\n\u003ch2\u003e\u003cspan style=\"font-size: 1.5em; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003eホストメトリック\u003c/span\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eCPU使用率、メモリ使用量といったホストに関するメトリックが該当します。\u003c/li\u003e\n\u003cli\u003eホストメトリックには更に「システムメトリック」と「カスタムメトリック」に分類されます。\n\u003cul\u003e\n\u003cli\u003eシステムメトリックは mackerel-agent の標準機能によって投稿されるもの\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/spec/metrics\" target=\"_blank\" rel=\"noopener\"\u003eメトリック仕様 - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eカスタムメトリックはクラウドインテグレーションや各種プラグインによって投稿されるもの\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/integrations/aws\" target=\"_blank\" rel=\"noopener\"\u003eAWSインテグレーション - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/integrations/azure\" target=\"_blank\" rel=\"noopener\"\u003eAzureインテグレーション - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/integrations/gcp\" target=\"_blank\" rel=\"noopener\"\u003eGoogle Cloudインテグレーション - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/advanced/custom-metrics\" target=\"_blank\" rel=\"noopener\"\u003eホストのカスタムメトリックを投稿する - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://github.com/mackerelio/mackerel-agent-plugins/\" target=\"_blank\" rel=\"noopener\"\u003emackerelio/mackerel-agent-plugins: Plugins for mackerel-agent\u003c/a\u003e\n\u003cp\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e（※連携可能なメトリックの詳細は各クラウド製品、各プラグインのドキュメントなどをご確認ください）\u003c/span\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eメトリックは mackerel-agent からだけではなく、APIから投稿することも可能です。\u003cbr\u003e（※カスタムメトリックとして投稿されます）\u003cbr\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/api-docs/entry/host-metrics#post\" target=\"_blank\" rel=\"noopener\"\u003eホストメトリック（メトリックの投稿） - Mackerel API ドキュメント (v0)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003cspan style=\"font-size: 1.5em; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003eサービスメトリック\u003c/span\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eサービスメトリックはAPIから自由にメトリックを投稿いただけるのが特徴となっています。\u003c/li\u003e\n\u003cli\u003e投稿の仕組みなどはお客様側で用意していただく必要がありますが、アイデア次第で以下のような事を可視化・監視することが出来ます。\n\u003cul\u003e\n\u003cli\u003eサービスに登録された累計ユーザー数の推移\u003c/li\u003e\n\u003cli\u003eWebサイトのPV数の推移\u003c/li\u003e\n\u003cli\u003eECサイトなどの受注件数や売上金額などビジネスにおけるKPI\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eURL外形監視のルールでレスポンスタイムに閾値を設定することで、レスポンスタイムをメトリックとして可視化することも出来ます。（こちらはMackerelの標準機能です）\u003c/li\u003e\n\u003cli\u003eサービスメトリックの投稿は以下のAPIドキュメントをご確認ください。\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/api-docs/entry/service-metrics#post\" target=\"_blank\" rel=\"noopener\"\u003eサービスメトリック（サービスメトリックの投稿） - Mackerel API ドキュメント (v0)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003cspan style=\"font-size: 1.5em; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003e参考\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003eサービスやロール、ホストなどの概念について、詳しくは以下のヘルプをあわせてご確認ください。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/spec/about-service-role\" target=\"_blank\" rel=\"noopener\"\u003e「サービス」「ロール」とは - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://mackerel.io/ja/docs/entry/spec/about-host\" target=\"_blank\" rel=\"noopener\"\u003e「ホスト」とは - Mackerel ヘルプ\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e"}}