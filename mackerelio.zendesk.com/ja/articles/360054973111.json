{"article":{"id":360054973111,"url":"https://mackerelio.zendesk.com/api/v2/help_center/ja/articles/360054973111.json","html_url":"https://support.mackerel.io/hc/ja/articles/360054973111","author_id":390085917472,"comments_disabled":true,"draft":false,"promoted":false,"position":0,"vote_sum":3,"vote_count":3,"section_id":900001846063,"created_at":"2021-01-05T08:06:33Z","updated_at":"2022-04-19T09:03:35Z","name":"ログ監視でエラー文言の検索パターンをOR条件で指定できますか？","title":"ログ監視でエラー文言の検索パターンをOR条件で指定できますか？","source_locale":"ja","locale":"ja","outdated":false,"outdated_locales":[],"edited_at":"2022-04-19T09:03:35Z","user_segment_id":null,"permission_group_id":1305651,"content_tag_ids":[],"label_names":[],"body":"\u003cp\u003eログ監視条件の検索パターンはOR条件で指定することができます。\u003c/p\u003e\n\u003cp\u003eご利用いただくプラグインによって指定方法が異なりますので、各プラグインのREADMEとあわせて以下をご確認ください。\u003c/p\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003echeck-log（\u003ca href=\"https://github.com/mackerelio/go-check-plugins/blob/master/check-log/README.md\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eREADME\u003c/a\u003e）\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e以下のオプションは正規表現によるOR条件指定が可能です。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e--pattern\u003c/li\u003e\n\u003cli\u003e--exclude\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e# ERROR もしくは FATAL を含む場合、 パイプ \"|\" で区切る\u003cbr\u003e[plugin.checks.ex1]\u003cbr\u003ecommand = [\"check-log\", \"-f\", \"/path/to/log\", \"--pattern\", \"ERROR|FATAL\", ...]\u003c/pre\u003e\n\u003cp\u003e\u003cstrong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003echeck-windows-eventlog（\u003ca href=\"https://github.com/mackerelio/go-check-plugins/blob/master/check-windows-eventlog/README.md\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eREADME\u003c/a\u003e）\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e以下のオプションは正規表現によるOR条件指定が可能です。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e--message-pattern\u003c/li\u003e\n\u003cli\u003e--message-exclude\u003c/li\u003e\n\u003cli\u003e--source-pattern\u003c/li\u003e\n\u003cli\u003e--source-exclude\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e# ERROR もしくは FATAL を含む場合、 パイプ \"|\" で区切る\u003cbr\u003e[plugin.checks.ex2]\u003cbr\u003ecommand = [\"check-windows-eventlog\", \"--type\", \"Error\", \"--message-pattern\", \"ERROR|FATAL\", ...]\u003c/pre\u003e\n\u003cp\u003e\u003cstrong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003echeck-aws-cloudwatch-logs（\u003ca href=\"https://github.com/mackerelio/go-check-plugins/blob/master/check-aws-cloudwatch-logs/README.md\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e\u003cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003eREADME\u003c/span\u003e\u003c/a\u003e）\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003e以下のオプションはAWS CloudWatch Logsの \u003c/span\u003e\u003ca href=\"https://docs.aws.amazon.com/ja_jp/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eフィルターとパターンの構文\u003c/a\u003e による\u003cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003eOR条件指定が可能です。\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"\u003e--pattern\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e# ERROR もしくは FATAL を含む場合、 キーワードに疑問符 ? をつける\u003cbr\u003e[plugin.checks.ex3]\u003cbr\u003ecommand = [\"check-aws-cloudwatch-logs\", \"--log-group-name\", \"/log/group/name\", \"--pattern\", \"?ERROR ?FATAL\", ...]\u003c/pre\u003e"}}